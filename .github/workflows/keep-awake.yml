# File: .github/workflows/keep-awake.yml
name: üí° Keep Streamlit Awake

on:
  workflow_dispatch:
  schedule:
    - cron: '0 * * * *'    # run at minute 0 of every hour

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Streamlit app
        run: |
          echo "‚ñ∂Ô∏è hitting https://accessreview.streamlit.app"
          STATUS=$(curl \
            --write-out '%{http_code}' \
            --silent \
            --output /dev/null \
            https://accessreview.streamlit.app)
          echo "‚úÖ Streamlit responded with HTTP $STATUS"
          if [ "$STATUS" != "200" ]; then
            echo "::error::Expected 200 but got $STATUS"
            exit 1
          fi
